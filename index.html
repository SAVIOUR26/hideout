<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <meta name="description" content="HGM Properties POS System - Bar, Restaurant & Lodge Management" />
    <meta name="theme-color" content="#667eea" />
    <title>HGM POS System</title>

    <!-- PWA Manifest -->
    <link rel="manifest" href="/manifest.json" />

    <!-- Icons -->
    <link rel="icon" type="image/png" href="/icon.png" />
    <link rel="apple-touch-icon" href="/icon.png" />

    <!-- iOS Meta Tags -->
    <meta name="apple-mobile-web-app-capable" content="yes" />
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent" />
    <meta name="apple-mobile-web-app-title" content="HGM POS" />
    <script type="module" crossorigin src="/assets/index-C8Gnj3qQ.js"></script>
    <link rel="stylesheet" crossorigin href="/assets/index-BvrwU59C.css">

    <!-- Direct CSS to hide Pesapal section -->
    <style>
      /* Hide the entire Pesapal Payment Gateway card */
      .card h3:contains("PesaPal"),
      .card h3:contains("Pesapal") {
        display: none !important;
      }

      /* Hide parent card if it contains PesaPal text */
      .card:has(h3:contains("PesaPal")),
      .card:has(h3:contains("Pesapal")) {
        display: none !important;
      }
    </style>
  </head>
  <body>
    <div id="root"></div>

    <!-- Service Worker Registration -->
    <script>
      if ('serviceWorker' in navigator) {
        window.addEventListener('load', () => {
          navigator.serviceWorker.register('/sw.js')
            .then((registration) => {
              console.log('ServiceWorker registered:', registration);
            })
            .catch((error) => {
              console.log('ServiceWorker registration failed:', error);
            });
        });
      }
    </script>

    <!-- Simple JavaScript to remove Pesapal section after page loads -->
    <script>
      window.addEventListener('load', () => {
        setTimeout(() => {
          // Find all h3 elements
          const headings = document.querySelectorAll('h3');
          headings.forEach(h3 => {
            if (h3.textContent.includes('PesaPal') || h3.textContent.includes('Pesapal')) {
              // Find the parent card and hide it
              let parent = h3.closest('.card, [class*="card"]');
              if (parent) {
                parent.style.display = 'none';
              }
            }
          });
        }, 1500);

        // Run again after navigation
        setInterval(() => {
          const headings = document.querySelectorAll('h3');
          headings.forEach(h3 => {
            if (h3.textContent.includes('PesaPal') || h3.textContent.includes('Pesapal')) {
              let parent = h3.closest('.card, [class*="card"]');
              if (parent) {
                parent.style.display = 'none';
              }
            }
          });
        }, 3000);
      });
    </script>

    <!-- Modern Checkout Interface Enhancement -->
    <script src="/modern-checkout.js"></script>

    <!-- Sales Dashboard Widget -->
    <script src="/dashboard-widget.js"></script>

    <!-- Receipt Fix - Ensures transaction_id is properly passed -->
    <script src="/receipt-fix.js"></script>

    <!-- Status Column Hide - Removes status column from UI -->
    <script src="/status-column-hide.js"></script>
  </body>
</html>
